<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ficha RPG</title>
<style>
body { font-family: Arial, sans-serif; background: #121212; color: #fff; padding: 20px; }
.container { max-width: 800px; margin:auto; background:#1e1e1e; padding:20px; border-radius:10px; }
h1 { text-align: center; }
input[type=number], input[type=text], select, textarea { width:100%; margin-bottom:10px; padding:5px; background:#333; color:#fff; border:none; border-radius:5px;}
textarea { resize: vertical; min-height:80px; }
button { margin:5px 0; padding:5px 10px; background:#ffcc00; border:none; border-radius:5px; cursor:pointer; color:#000;}
button:hover { background:#e6b800;}
.image-section { text-align:center; margin-bottom:20px; }
.image-section img { max-width:200px; max-height:200px; display:block; margin:10px auto; border-radius:50%; transition: border-radius 0.3s; }
</style>
</head>
<body>
<div class="container">

<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Ficha RPG</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    nav {
      background: #222;
      padding: 10px;
      display: flex;
      gap: 15px;
    }
    nav a {
      color: white;
      text-decoration: none;
      cursor: pointer;
    }
    .pagina {
      display: none;
      padding: 20px;
    }
    .ativa {
      display: block;
    }
  </style>
</head>
<body>
  <nav>
    <a onclick="mostrarPagina('ficha')">Ficha</a>
    <a onclick="mostrarPagina('especie')">Espécie</a>
    <a onclick="mostrarPagina('etinias')">Anão</a>
    <a onclick="mostrarPagina('humano')">Humano</a>
  </nav>

  <!-- Página principal -->
  <div id="ficha" class="pagina ativa">
  </div>

  <!-- Páginas extras -->
  <div id="especie" class="pagina">
    <h2>Espécies</h2>
    <p>
·       Humano: <br>

<br>
Energia Natural: Água <br>

<br>
É fraco contra eletricidade.<br>
<br>

A segunda espécie mas comum no mundo, muito versátil e ótimo para combinar com outras espécies.<br>

<br>
Paranormal<br>
<br>

Energia natural: Paranormal <br>
<br>

Pode ver seres que são considerados anomalias. É fraco contra Energia Paranormal.<br>
<br>

Uma das raças mais raras do mundo, conhecidos por serem muito poderosos e extremamente talentosos. Uma ótima espécie para aquele que gosta de controlar grandes áreas.<br>
<br>

·       Vampiro<br>
<br>

Energia natural: Sangue<br>
<br>

Precisa absorver sangue para recuperar vida e energia, todos seus status são dobrados. Pode controlar zumbis com esporos de carne. É fraco contra o sol.
<br>
<br>
Uma das Raças mais presentes no mundo, conhecido por serem muito fortes e capazes de contaminação, sendo fraco contra o sol, é uma boa espécie para aqueles que gostam de lutar nas sombras<br>
<br>
 
·       Homem Pillar<br>
<br>

Energia natural: Pedra<br>
<br>

Pode moldar seu corpo além de absorver criaturas de 5 níveis vezes inferior. É 2,5x mais forte que um humano. Precisa absorver criaturas para recuperar vida e Energia. É fraco contra o sol.<br>
<br>

·       Formiga<br>
<br>

Energia natural: Inseto<br>
<br>

Pode controlar formigas mais fracas. Joga 1 dado d20 para descobrir quantas vezes é mais forte que um humano. (1-5 Neutro, 6-10 1,5x, 11-15 2x, 16-18 2,5x, 19-20 3x) É fraco contra fogo.<br>
<br>

·       Oni<br>
<br>

Energia natural: Sangue<br>
<br>

É igual ao vampiro, mas pode controlar outros onis mais fracos<br>
<br>

·       Fantasma<br>
<br>

Energia natural: Paranormal<br>
<br>

Não é afetado por ataques de energia, apenas Paranormal. Pode controlar pessoas 5 níveis mais fracos que ele.<br>
<br>

·       Alien<br>
<br>

Energia natural: Sombra<br>
<br>

É imune a ataques de fogo, e luz, é 2 vezes mais forte que um humano. É fraco contra Água, Planta e Pedra. <br>
<br>

·       Animal<br>
<br>

Energia natural: Planta<br>
<br>

Pode ser qualquer animal existente. É fraco contra fogo.<br>
<br>

·       Semideus
<br>
<br>
Energia natural: Luz<br>
<br>

É 2 vezes mais forte que um ser humano. Pode se tornar um deus, além de saber línguas antigas. Tem uma fraqueza aleatória, além de ser fraco contra Sombra.<br>
<br>

·       Valquíria<br>
<br>

Energia natural: Luz<br>
<br>

Exclusivamente mulher. Pode se transformar em uma arma que possa ser segurada por alguém. Precisa de uma condição de uso. Consegue ler línguas antigas, além de ser fraca contra sombra.</p>
  </div>

  <div id="etinias" class="pagina">
    <h2>Etinias</h2>
    <p>Luzius: Luzianos 
</p>
<img src="imagens/foto.jpg" alt="Minha foto">




  </div>

  <div id="humano" class="pagina">
    <h2>Raça: Humano</h2>
    <p>Humanos são versáteis e adaptáveis a qualquer ambiente.</p>
  </div>

  <script>
    function mostrarPagina(id) {
      document.querySelectorAll('.pagina').forEach(p => p.classList.remove('ativa'));
      document.getElementById(id).classList.add('ativa');
    }
  </script>
</body>
</html>
<h1>Ficha RPG Aeterna</h1>

<!-- Seção de Imagem -->
<div class="image-section">
  <h3>Imagem do Personagem</h3>
  <input type="file" id="uploadImage" accept="image/*">
  <div style="margin-top:10px;">
    <label><input type="radio" name="formato" value="retangular" onclick="atualizarFormato()"> Retangular</label>
    <label><input type="radio" name="formato" value="circular" checked onclick="atualizarFormato()"> Circular</label>
  </div>
  <img id="personagemImg" src="" alt="Imagem do Personagem">
  <h3 id="nomeImagem"></h3>
</div>

<label>Nome do Personagem:</label>
<input type="text" id="nome" oninput="atualizarNomeImagem()">

<label>Terra natal</label>
<input type="text" id="terra" placeholder="Onde você nasceu..."></textarea>

<label>Classe:</label>
<select id="classe" onchange="atualizarSubclassePrimaria()">
  <option value="">Selecione</option>
  <option>Assassino</option>
  <option>Tanque</option>
  <option>Guerreiro</option>
  <option>Mágico</option>
  <option>Atirador</option>
  <option>Bárbaro</option>
  <option>Bardo</option>
  <option>Inventor</option>
</select>

<label>Subclasse Primária:</label>
<select id="subclassePrimaria"></select>

<label>Subclasse Secundária (livre):</label>
<select id="subclasseSecundaria">
  <option value="">Selecione</option>
  <option>Ninja</option>
  <option>Ladrão</option>
  <option>Gigante</option>
  <option>Carapaça</option>
  <option>Samurai</option>
  <option>Cavaleiro</option>
  <option>Paladino</option>
  <option>Marcial</option>
  <option>Feiticeiro</option>
  <option>Monge</option>
  <option>Bruxo</option>
  <option>Mago</option>
  <option>Curandeiro</option>
  <option>Xerife</option>
  <option>Arqueiro</option>
<option>Arcano</option>
  <option>Berserker</option>
  <option>Viking</option>
  <option>Besta</option>
  <option>Cantor</option>
  <option>Musico</option>
  <option>Maestro</option>
  <option>Engenheiro</option>
  <option>Filosofo</option>
  <option>Alquimista</option>
</select>

<label>Espécie Primária:</label>
<select id="especie">
  <option value="">Selecione</option>
  <option>Humano</option>
  <option>Paranormal</option>
  <option>Vampiro</option>
  <option>Homem Pillar</option>
  <option>Formiga</option>
  <option>Oni</option>
  <option>Fantasma</option>
  <option>Alien</option>
  <option>Animal</option>
  <option>Semideus</option>
  <option>Valquíria</option>
</select>

<label>Espécie Secundária:</label>
<select id="especieSecundaria">
  <option value="">Selecione</option>
  <option>Humano</option>
  <option>Paranormal</option>
  <option>Vampiro</option>
  <option>Homem Pillar</option>
  <option>Formiga</option>
  <option>Oni</option>
  <option>Fantasma</option>
  <option>Alien</option>
  <option>Animal</option>
  <option>Semideus</option>
  <option>Valquíria</option>
</select>

<h2>Energia e Fraqueza</h2>
<label>Energia Natural:</label>
<select id="energiaNatural">
  <option value="">-</option>
  <option>Fogo</option>
  <option>Luz</option>
  <option>Sombra</option>
  <option>Água</option>
  <option>Eletricidade</option>
  <option>Areia</option>
  <option>Pedra</option>
  <option>Paranormal</option>
  <option>Planta</option>
  <option>Metal</option>
  <option>Sangue</option>
  <option>Inseto</option>
  <option>Neve</option>
  <option>Vento</option>
<option>Papel</option>
 <option>Vidro</option>
  <option>Neutro</option>
  <option>???</option>
  <option>Alma</option>
</select>

<label>Energia Secundária:</label>
<select id="energiaSecundaria">
  <option value="-">-</option>
  <option>Fogo</option>
  <option>Luz</option>
  <option>Sombra</option>
  <option>Água</option>
  <option>Eletricidade</option>
  <option>Areia</option>
  <option>Pedra</option>
  <option>Paranormal</option>
  <option>Planta</option>
  <option>Metal</option>
  <option>Sangue</option>
  <option>Inseto</option>
  <option>Neve</option>
  <option>Vento</option>
<option>Papel</option>
 <option>Vidro</option>
  <option>Neutro</option>
  <option>???</option>
  <option>Alma</option>
</select>

<label>Energia Terciária:</label>
<select id="energiaTerciaria">
  <option value="-">-</option>
  <option>Fogo</option>
  <option>Luz</option>
  <option>Sombra</option>
  <option>Água</option>
  <option>Eletricidade</option>
  <option>Areia</option>
  <option>Pedra</option>
  <option>Paranormal</option>
  <option>Planta</option>
  <option>Metal</option>
  <option>Sangue</option>
  <option>Inseto</option>
  <option>Neve</option>
  <option>Vento</option>
<option>Papel</option>
 <option>Vidro</option>
  <option>Neutro</option>
  <option>???</option>
  <option>Alma</option>
</select>

<label>Fraqueza:</label>
<select id="fraqueza">
  <option value="-">-</option>
  <option>Fogo</option>
  <option>Luz</option>
  <option>Sombra</option>
  <option>Água</option>
  <option>Eletricidade</option>
  <option>Areia</option>
  <option>Pedra</option>
  <option>Paranormal</option>
  <option>Planta</option>
  <option>Metal</option>
  <option>Sangue</option>
  <option>Inseto</option>
  <option>Neve</option>
  <option>Vento</option>
<option>Papel</option>
 <option>Vidro</option>
  <option>Neutro</option>
  <option>???</option>
  <option>Alma</option>
</select>

<label>Fraqueza Secundária:</label>
<select id="fraquezaSecundaria">
  <option value="-">-</option>
  <option>Fogo</option>
  <option>Luz</option>
  <option>Sombra</option>
  <option>Água</option>
  <option>Eletricidade</option>
  <option>Areia</option>
  <option>Pedra</option>
  <option>Paranormal</option>
  <option>Planta</option>
  <option>Metal</option>
  <option>Sangue</option>
  <option>Inseto</option>
  <option>Neve</option>
  <option>Vento</option>
 <option>Papel</option>
 <option>Vidro</option>
  <option>Neutro</option>
  <option>???</option>
  <option>Alma</option>
</select>

<label>Fraqueza Terciária:</label>
<select id="fraquezaTerciaria">
  <option value="-">-</option>
  <option>Fogo</option>
  <option>Luz</option>
  <option>Sombra</option>
  <option>Água</option>
  <option>Eletricidade</option>
  <option>Areia</option>
  <option>Pedra</option>
  <option>Paranormal</option>
  <option>Planta</option>
  <option>Metal</option>
  <option>Sangue</option>
  <option>Inseto</option>
  <option>Neve</option>
  <option>Vento</option>
  <option>Papel</option>
 <option>Vidro</option>
  <option>Neutro</option>
  <option>???</option>
  <option>Alma</option>
</select>

<h2>Status</h2>
<label>Força:</label><input type="number" id="forca" value="0">
<label>Resistência:</label><input type="number" id="resistencia" value="0" onchange="calcularVidaEnergia()">
<label>Velocidade:</label><input type="number" id="velocidade" value="0">
<label>Precisão:</label><input type="number" id="precisao" value="0">
<label>Percepção:</label><input type="number" id="percepcao" value="0">
<label>Carisma:</label><input type="number" id="carisma" value="0">
<label>Furtividade:</label><input type="number" id="furtividade" value="0">
<label>Artes:</label><input type="number" id="artes" value="0">
<label>Marcial:</label><input type="number" id="marcial" value="0">
<label>Mente:</label><input type="number" id="mente" value="0">
<label>Atk Especial:</label><input type="number" id="atkEspecial" value="0">
<label>Defesa Especial:</label><input type="number" id="defEspecial" value="0">

<label>Proeficiência:</label><input type="number" id="proeficiencia" value="0">

<label>Vida:</label><input type="number" id="vida" value="0" readonly>
<label>Energia:</label><input type="number" id="energia" value="0" readonly>

<label>Vida Atual:</label><input type="number" id="vidaAtual" value="0">
<label>Energia Atual:</label><input type="number" id="energiaAtual" value="0">

<h2>XP</h2>
<label>Experiência (XP):</label>
<input type="number" id="xp" value="0">

<h2>Passivas</h2>
<textarea id="passivas" placeholder="Descreva aqui as passivas do personagem..."></textarea>

<h2>Habilidades</h2>
<textarea id="habilidades" placeholder="Liste as habilidades do personagem..."></textarea>

<h2>Itens e Armas</h2>
<textarea id="itensArmas" placeholder="Liste os itens e armas do personagem..."></textarea>

<h2>Informações do Personagem</h2>
<textarea id="informacoes" placeholder="História, personalidade e outros detalhes..."></textarea>

<button onclick="baixarFicha()">Baixar Ficha</button>
<input type="file" id="importarArquivo" onchange="importarFicha(event)">

<script>
const subClasses = {
  "Assassino":["Ninja","Ladrão"],
  "Tanque":["Gigante","Carapaça"],
  "Guerreiro":["Samurai","Cavaleiro","Paladino","Marcial"],
  "Mágico":["Feiticeiro","Monge","Bruxo","Mago","Curandeiro"],
  "Atirador":["Xerife","Arqueiro","Arcano"],
  "Bárbaro":["Berserker","Viking","Besta"],
  "Bardo":["Cantor","Musico","Maestro"],
  "Inventor":["Filosofo","Alquimista","Engenheiro"],
};

let imagemBase64 = "";

function atualizarSubclassePrimaria(selecionada = "") {
  const classe = document.getElementById("classe").value;
  const subSelect = document.getElementById("subclassePrimaria");
  subSelect.innerHTML = "<option value=''>Selecione</option>";
  if(subClasses[classe]){
    subClasses[classe].forEach(sub => {
      const option = document.createElement("option");
      option.value = sub;
      option.textContent = sub;
      if(sub === selecionada) option.selected = true;
      subSelect.appendChild(option);
    });
  }
}

function calcularVidaEnergia() {
  const resistencia = parseInt(document.getElementById("resistencia").value) || 0;
  const vida = resistencia * 3;
  const energia = vida * 3;
  document.getElementById("vida").value = vida;
  document.getElementById("energia").value = energia;

  if (parseInt(document.getElementById("vidaAtual").value) === 0) {
    document.getElementById("vidaAtual").value = vida;
  }
  if (parseInt(document.getElementById("energiaAtual").value) === 0) {
    document.getElementById("energiaAtual").value = energia;
  }
}

function baixarFicha() {
  const ficha = {};
  document.querySelectorAll("input, select, textarea").forEach(el => {
    if(el.type !== "file") ficha[el.id] = el.value;
  });
  ficha.imagemBase64 = imagemBase64;
  ficha.subclassePrimaria = document.getElementById("subclassePrimaria").value; // garante salvar
  
  const blob = new Blob([JSON.stringify(ficha, null, 2)], {type: "application/json"});
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = "ficha.json";
  a.click();
  URL.revokeObjectURL(url);
}

function importarFicha(event) {
  const file = event.target.files[0];
  const reader = new FileReader();
  reader.onload = e => {
    const data = JSON.parse(e.target.result);
    for(const key in data){
      const el = document.getElementById(key);
      if(el && el.type !== "file") el.value = data[key];
    }
    if(data.imagemBase64){
      imagemBase64 = data.imagemBase64;
      document.getElementById("personagemImg").src = imagemBase64;
    }
    calcularVidaEnergia();
    atualizarSubclassePrimaria(data.subclassePrimaria || "");
    atualizarNomeImagem();
  };
  reader.readAsText(file);
}

document.getElementById("uploadImage").addEventListener("change", function(event){
  const file = event.target.files[0];
  if(file){
    const reader = new FileReader();
    reader.onload = e => {
      imagemBase64 = e.target.result;
      document.getElementById("personagemImg").src = imagemBase64;
    };
    reader.readAsDataURL(file);
  }
});

function atualizarFormato() {
  const formato = document.querySelector('input[name="formato"]:checked').value;
  const img = document.getElementById("personagemImg");
  img.style.borderRadius = (formato === "circular") ? "50%" : "10%";
}

function atualizarNomeImagem() {
  document.getElementById("nomeImagem").textContent = document.getElementById("nome").value;
}

document.addEventListener("DOMContentLoaded", () => {
  atualizarSubclassePrimaria();
  calcularVidaEnergia();
  atualizarNomeImagem();
});
</script>
</div>
</body>
</html>
